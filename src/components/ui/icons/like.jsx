import { useEffect, useState } from "react";
import styles from "./icons.module.css";

const Like = ({isAvailable, favourite}) => {
  const [liked, setLiked] = useState(false);

  useEffect(() => {
    setLiked(favourite);
  } , [favourite])

  useEffect(() => {
    const pathColor = document.getElementById("like")
    if(isAvailable) {
      pathColor.classList.remove(styles.like)
      pathColor.classList.add(styles.disabled)
    } else {
      pathColor.classList.remove(styles.disabled)
      pathColor.classList.add(styles.like)
    }
  }, [isAvailable])

  return (
    <svg id={"like"} width="35" height="35" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M30 51.5626C29.8372 51.5572 29.6774 51.5173 29.5313 51.4454C25.2969 48.9494 21.317 46.0449 17.6484 42.7735C9.67969 35.5782 5.62501 28.4532 5.62501 21.5626C5.62215 18.6919 6.56057 15.8994 8.29646 13.613C10.0324 11.3266 12.47 9.67234 15.2359 8.90374C18.0018 8.13514 20.9435 8.29455 23.6101 9.35756C26.2768 10.4206 28.5214 12.3285 30 14.7892C31.4787 12.3285 33.7232 10.4206 36.3899 9.35756C39.0566 8.29455 41.9982 8.13514 44.7641 8.90374C47.53 9.67234 49.9676 11.3266 51.7035 13.613C53.4394 15.8994 54.3779 18.6919 54.375 21.5626C54.375 28.4532 50.3203 35.5782 42.3516 42.7735C38.683 46.0449 34.7031 48.9494 30.4688 51.4454C30.3226 51.5173 30.1628 51.5572 30 51.5626V51.5626ZM18.75 10.3126C15.7663 10.3126 12.9048 11.4979 10.7951 13.6077C8.68527 15.7174 7.50001 18.5789 7.50001 21.5626C7.50001 35.5548 26.7656 47.6017 30 49.547C33.2344 47.6017 52.5 35.5548 52.5 21.5626C52.5011 18.9619 51.6011 16.4411 49.9531 14.4292C48.3051 12.4172 46.0109 11.0384 43.4609 10.5273C40.9109 10.0162 38.2626 10.4044 35.9665 11.6258C33.6704 12.8472 31.8685 14.8264 30.8672 17.2267C30.7966 17.3986 30.6764 17.5457 30.522 17.6492C30.3676 17.7527 30.1859 17.8079 30 17.8079C29.8141 17.8079 29.6324 17.7527 29.478 17.6492C29.3236 17.5457 29.2035 17.3986 29.1328 17.2267C28.2773 15.1785 26.835 13.4291 24.9875 12.1988C23.1399 10.9685 20.9697 10.3122 18.75 10.3126V10.3126Z" fill="#dd9b5c"/>
      {liked && <path d="M55.3125 21.5625C55.3125 28.7344 51.1641 36.0937 42.9844 43.4531C39.2701 46.7922 35.2258 49.7449 30.9141 52.2656C30.634 52.4195 30.3196 52.5002 30 52.5002C29.6804 52.5002 29.366 52.4195 29.0859 52.2656C28.0781 51.7031 4.6875 38.4141 4.6875 21.5625C4.6875 18.611 5.61615 15.7344 7.34191 13.34C9.06766 10.9457 11.503 9.15498 14.303 8.22164C17.1031 7.2883 20.1258 7.25962 22.943 8.13965C25.7602 9.01969 28.2291 10.7638 30 13.125C31.7709 10.7638 34.2398 9.01969 37.057 8.13965C39.8742 7.25962 42.8969 7.2883 45.697 8.22164C48.497 9.15498 50.9323 10.9457 52.6581 13.34C54.3838 15.7344 55.3125 18.611 55.3125 21.5625Z" fill="#dd9b5c"/>}
    </svg>


  );
};

export default Like;